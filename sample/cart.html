<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Cart</title>

<link rel="stylesheet" href="assets/css/theme.css">

<style>

/* ================= RESET ================= */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Segoe UI',sans-serif;
}

/* ================= NAVBAR ================= */
.navbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 40px;
  background:#2e7d32;
  color:white;
}

.navbar .nav-links{
  display:flex;
  gap:20px;
  align-items:center;
}

.navbar a{
  color:white;
  text-decoration:none;
}

.theme-toggle{
  background:#1b5e20;
  border:none;
  padding:6px 10px;
  border-radius:6px;
  color:white;
  cursor:pointer;
}

/* ================= PAGE ================= */
.container{
  max-width:1000px;
  margin:40px auto;
  padding:0 20px;
}

h2{
  margin-bottom:20px;
}

/* ================= CART CARD ================= */
.cart-item{
  display:flex;
  align-items:center;
  gap:20px;
  padding:15px;
  margin-bottom:15px;
  border-radius:10px;
  background:#ffffff;
  box-shadow:0 4px 10px rgba(0,0,0,0.08);
  transition:0.3s;
}

.cart-item img{
  width:100px;
  height:80px;
  object-fit:cover;
  border-radius:8px;
}

.cart-details{
  flex:1;
}

.cart-item h3{
  margin-bottom:6px;
}

.cart-item button{
  padding:6px 10px;
  border:none;
  border-radius:6px;
  background:#e53935;
  color:white;
  cursor:pointer;
}

.cart-item button:hover{
  background:#c62828;
}

/* ================= TOTAL ================= */
.total-box{
  text-align:right;
  margin-top:20px;
  font-size:18px;
  font-weight:600;
}

/* ================= DARK MODE ================= */
body.dark{
  background:#121212;
  color:white;
}

body.dark .cart-item{
  background:#1e1e1e;
  color:white;
}

body.dark .navbar{
  background:#1b5e20;
}

</style>
</head>

<body onload="loadCart()">

<!-- ================= NAVBAR ================= -->
<div class="navbar">
  <div>ðŸŒ¿ PUSHPAK</div>

  <div class="nav-links">
    <a href="index.html">Home</a>
    <a href="plants.html">Plants</a>
    <a href="cart.html">Cart</a>
    <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ™</button>
  </div>
</div>

<!-- ================= CONTENT ================= -->
<div class="container">
  <h2>My Cart</h2>
  <div id="cartItems"></div>
</div>

<script>

/* ================= DARK MODE ================= */
function toggleTheme(){
  document.body.classList.toggle("dark");
  localStorage.setItem("theme",
    document.body.classList.contains("dark"));
}

if(localStorage.getItem("theme")==="true"){
  document.body.classList.add("dark");
}

/* ================= LOAD CART ================= */
function loadCart(){

  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  const plants = JSON.parse(localStorage.getItem("plants")) || [];
  const container = document.getElementById("cartItems");

  container.innerHTML = "";

  let total = 0;

  cart.forEach(item => {

    const plant = plants.find(p => p.id === item.id);
    if(!plant) return;

    total += plant.price * item.qty;

    container.innerHTML += `
      <div class="cart-item">
        <img src="${plant.image}">
        <div class="cart-details">
          <h3>${plant.name}</h3>
          <p>Price: â‚¹${plant.price}</p>
          <p>Qty: ${item.qty}</p>
        </div>
        <button onclick="removeFromCart(${plant.id})">Remove</button>
      </div>
    `;
  });

  container.innerHTML += `
    <div class="total-box">
      Total: â‚¹${total}
    </div>
  `;
}

/* ================= REMOVE ================= */
function removeFromCart(id){
  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  cart = cart.filter(item => item.id !== id);
  localStorage.setItem("cart", JSON.stringify(cart));
  loadCart();
}

</script>

</body>
</html>
